<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>一名前端小白的进阶之路</title>
	<link rel="stylesheet" href="/css/nav.css"/>
	<link rel="stylesheet" href="/css/main.css"/>
	<link rel="shortcut icon" href="/favicon.ico"/>
	<link rel="stylesheet" href="/css/dailyrecord/user-index.css"/>
</head>
<body>

	<nav id='nav' class="clearfix">
		<div class="nav-info">
			<h1>刘可欣的个人博客</h1>
			<h5>阳光很好，心情很漂亮，记得笑一笑哦！</h5> 
		</div>
		<ul class="clearfix">
			<li><a href="/">首页</a></li>
			<li><a href="/article">文章</a></li>
			<li><a class="current" href="#">碎言碎语</a></li>
			<li><a href="/messageboard">留言板</a></li>
		</ul>
	</nav>

	<div id="recordList" class="container">
		<%data.forEach(function(item) {%>
		<div class="record-item clearfix">
			<div class="br-right clearfix">
				<div class="content"><%=item.content%>
				</div>
				<div class="tri"></div>
			</div>
			<div class="star"></div>

			<%function dateFormat(inputTime) {%>
			<%var inputArr = inputTime.split(' ');%>
			<%var date = inputArr[0];%>
			<%return date;%>
			<%}%>

			<div class="date"><%=dateFormat(item.publishtime)%></div>
		</div>
		<%});%>

	</div>
	<script type="text/javascript">
		window.onload = function(){
			let recordItem = document.getElementsByClassName('record-item');

			for(let i = 0; i < recordItem.length; i++) {
				recordItem[i].onmouseover = function(e) {
					e = e || window.element;
					let el = e.srcElement || e.target;
					if(el.className == 'content') {
						let ep = el.parentNode.parentNode;
						ep.getElementsByClassName('content')[0].className = 'content content-hover';
						ep.getElementsByClassName('tri')[0].className = 'tri tri-hover';
						ep.getElementsByClassName('star')[0].className = 'star star-hover';
						ep.getElementsByClassName('date')[0].className = 'date date-hover';
					} else if(el.className == 'star' || el.className == 'date') {
						let ep = el.parentNode;
						ep.getElementsByClassName('content')[0].className = 'content content-hover';
						ep.getElementsByClassName('tri')[0].className = 'tri tri-hover';
						ep.getElementsByClassName('star')[0].className = 'star star-hover';
						ep.getElementsByClassName('date')[0].className = 'date date-hover';

					}
				}

			}
			let contentItem = document.getElementsByClassName('content');
			let starItem = document.getElementsByClassName('star');
			let dateItem = document.getElementsByClassName('date');
			for(let i = 0; i < contentItem.length; i++) {
				contentItem[i].onmouseleave = function(e) {
					e = e || window.element;
					let el = e.srcElement || target;
					if(el.className == 'content content-hover') {
						let ep = el.parentNode.parentNode;
						ep.getElementsByClassName('content')[0].className = 'content';
						ep.getElementsByClassName('tri')[0].className = 'tri';
						ep.getElementsByClassName('star')[0].className = 'star';
						ep.getElementsByClassName('date')[0].className = 'date';
					} 
				}

			}
			for(let i = 0; i < starItem.length; i++) {
				starItem[i].onmouseleave = function(e) {
					e = e || window.element;
					let el = e.srcElement || target;
					if(el.className == 'star star-hover') {
						let ep = el.parentNode;
						ep.getElementsByClassName('content')[0].className = 'content';
						ep.getElementsByClassName('tri')[0].className = 'tri';
						ep.getElementsByClassName('star')[0].className = 'star';
						ep.getElementsByClassName('date')[0].className = 'date';
					} 
				}

			}
			for(let i = 0; i < dateItem.length; i++) {
				dateItem[i].onmouseleave = function(e) {
					e = e || window.element;
					let el = e.srcElement || target;
					if(el.className == 'date date-hover') {
						let ep = el.parentNode;
						ep.getElementsByClassName('content')[0].className = 'content';
						ep.getElementsByClassName('tri')[0].className = 'tri';
						ep.getElementsByClassName('star')[0].className = 'star';
						ep.getElementsByClassName('date')[0].className = 'date';
					} 
				}

			}


		}



	</script>
</body>
</html>